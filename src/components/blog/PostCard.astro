---
interface Props {
  post: {
    slug: string;
    data: {
      title: string;
      description: string;
      thumbnail: string;
      publishedAt: Date;
      category: string;
      tags: string[];
    };
  };
}

const { post } = Astro.props;
const { data, slug } = post;
const formattedDate = data.publishedAt.toLocaleDateString('ko-KR', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---
<a href={`/blog/${slug}`} class="group">
  <div class="aspect-video w-full bg-neutral-100 rounded-xl overflow-hidden relative">
    <img src={data.thumbnail} alt={data.title} class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />
    <div class="absolute top-4 left-4">
      <span class="bg-white/90 backdrop-blur-sm text-primary-950 px-3 py-1 rounded-full text-xs font-bold shadow-sm">
        {data.category}
      </span>
    </div>
  </div>
  <div class="mt-6">
    <time class="text-sm text-neutral-500">{formattedDate}</time>
    <h3 class="mt-2 text-xl font-bold text-primary-950 group-hover:text-primary-600 transition-colors leading-snug">
      {data.title}
    </h3>
    <p class="mt-3 text-neutral-600 text-sm line-clamp-2 leading-relaxed">
      {data.description}
    </p>
    <div class="mt-4 flex flex-wrap gap-2">
      {data.tags.slice(0, 3).map(tag => (
        <span class="text-[10px] text-neutral-400 font-medium uppercase tracking-wider">#{tag}</span>
      ))}
    </div>
  </div>
</a>
